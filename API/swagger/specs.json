{"openapi":"3.0.0","info":{"title":"Besafe API","version":"1.0.0"},"paths":{"/organization/":{"get":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Récupère toutes les organisations","responses":{"200":{"$ref":"#/components/responses/AllOrganizationsFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Créer une organisation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"responses":{"201":{"$ref":"#/components/responses/OrganizationCreated"},"400":{"$ref":"#/components/responses/CreateOrganizationBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Met à jour une organisation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"responses":{"200":{"$ref":"#/components/responses/OrganizationUpdated"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}},"/organization/{id}":{"delete":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Supprime une organisation","parameters":[{"name":"id","description":"id de l'organisation","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/OrganizationDeleted"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}},"/partier/":{"get":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"R�cup�re toutes les partiers","responses":{"200":{"$ref":"#/components/responses/AllPartiersFound"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Cr�er un partier","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partier"}}}},"responses":{"201":{"$ref":"#/components/responses/PartierCreated"},"400":{"$ref":"#/components/responses/CreatePartierBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Met � jour un partier","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partier"}}}},"responses":{"200":{"$ref":"#/components/responses/PartierUpdated"},"400":{"$ref":"#/components/responses/PartierIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdminOrPartier"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}}},"/partier/{id}":{"delete":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Supprime un partier","parameters":[{"name":"id","description":"id du partier","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/PartierDeleted"},"400":{"$ref":"#/components/responses/PartierIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}}}},"components":{"schemas":{"Event":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"nom de l'événement"},"description":{"type":"string","description":"description de l'événement"},"nameandnumstreet":{"type":"string","description":"nom et numéro de rue de l'événement"},"departingpoint":{"type":"string","description":"point de départ de l'événement"},"startdatetime":{"type":"string","description":"date et heure de début de l'événement"},"enddatetime":{"type":"string","description":"date et heure de fin de l'événement"},"organizationid":{"type":"integer","description":"id de l'organisateur de l'événement"},"addresstown":{"type":"string","description":"ville de l'événement"},"addresszipcode":{"type":"string","description":"code postal de l'événement"}},"example":{"id":1,"name":"Party de la rentrée","description":"Party de la rentrée des étudiants","nameandnumstreet":"123 rue de la rentrée","departingpoint":"devant le pavillon des sciences","startdatetime":"2020-09-01 20:00:00","enddatetime":"2020-09-02 03:00:00","organizationid":1,"addresstown":"Sherbrooke","addresszipcode":"J1E 4K1"}},"Organization":{"type":"object","properties":{"userID":{"type":"integer","description":"l'id de l'utilisateur"},"responsibleName":{"type":"string","description":"le nom du responsable de l'organisation"},"isVerified":{"type":"boolean","description":"si l'organisation est vérifiée ou non"}},"example":{"userID":1,"responsibleName":"Jean","isVerified":true}},"Partier":{"type":"object","properties":{"userID":{"type":"integer","description":"L'ID de l'utilisateur du Partier"},"firstName":{"type":"string","description":"Le pr�nom du Partier"},"lastName":{"type":"string","description":"Le nom de famille du Partier"},"referencePhoneNumber":{"type":"string","description":"Le num�ro de t�l�phone de r�f�rence du Partier"},"addressTown":{"type":"string","description":"La ville de r�sidence du Partier"},"addressZipCode":{"type":"integer","description":"Le code postal de la r�sidence du Partier"}},"example":{"userID":1,"firstName":"Jean","lastName":"Dupont","referencePhoneNumber":"0123456789","addressTown":"Paris","addressZipCode":75001}},"WrongJWT":{"type":"object","oneOf":[{"$ref":"#/components/responses/MissingJWT"},{"$ref":"#/components/responses/ExpiredJWT"}]}},"responses":{"AllEventsFound":{"description":"Renvoie tous les événements"},"AllOrganizationsFound":{"description":"Récupère toutes les organisations"},"OrganizationFound":{"description":"Récupère une organisation"},"OrganizationNotFound":{"description":"L'organisation n'a pas été trouvée"},"OrganizationIdNotANumber":{"description":"L'id de l'organisation n'est pas un nombre"},"OrganizationCreated":{"description":"L'organisation a été créée"},"CreateOrganizationBadRequest":{"description":"création impossible car l'un des paramètres n'est pas validee"},"OrganizationUpdated":{"description":"L'organisation a été mise à jour"},"OrganizationDeleted":{"description":"L'organisation a été supprimée"},"AllPartiersFound":{"description":"R�cup�re toutes les partiers"},"PartierFound":{"description":"R�cup�re un partier"},"PartierNotFound":{"description":"Le partier n'a pas �t� trouv�"},"PartierIdNotANumber":{"description":"L'id du partier n'est pas un nombre"},"CreatePartierBadRequest":{"description":"cr�ation impossible car l'un des param�tres n'est pas valable"},"PartierCreated":{"description":"Le partier a �t� cr��"},"PartierUpdated":{"description":"L'organisation a �t� mise � jour"},"PartierDeleted":{"description":"Le partier a �t� supprim�"},"mustBeAdmin":{"description":"L'action demandée ne peut être réalisée que par un administrateur"},"mustBePartier":{"description":"L'action demandée ne peut être réalisée que par un partier"},"mustBeOrganization":{"description":"L'action demandée ne peut être réalisée que par un organisateur"},"mustBeAdminOrOrganization":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation"},"mustBeAdminOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou un partier"},"mustBeAdminOrOrganizationOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation ou un partier"},"UnauthorizedJWT":{"description":"JWT manquant ou expiré","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/WrongJWT"}}}},"ErrorJWT":{"description":"Le JWT n'est pas valide"},"MissingJWT":{"description":"Le JWT n'est pas présent"},"ExpiredJWT":{"description":"Le JWT est expiré"}},"requestBodies":{"CreateOrganization":{"description":"L'organisation à créer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"OrganizationUpdated":{"description":"L'organisation à mettre à jour","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"CreatePartier":{"description":"Le partier � cr�er","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"PartierUpdated":{"description":"Le partier � mettre � jour","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Partier"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}