{"openapi":"3.0.0","info":{"title":"Besafe API","version":"1.0.0"},"paths":{"/organization/":{"get":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Récupère toutes les organisations","responses":{"200":{"$ref":"#/components/responses/AllOrganizationsFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Créer une organisation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganization"}}}},"responses":{"201":{"$ref":"#/components/responses/OrganizationCreated"},"400":{"$ref":"#/components/responses/CreateOrganizationBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Met à jour une organisation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganization"}}}},"responses":{"200":{"$ref":"#/components/responses/OrganizationUpdated"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}},"/organization/{id}":{"delete":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Supprime une organisation","parameters":[{"name":"id","description":"id de l'organisation","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/OrganizationDeleted"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}},"/partier/":{"get":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"R�cup�re toutes les partiers","responses":{"200":{"$ref":"#/components/responses/AllPartiersFound"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Cr�er un partier","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePartier"}}}},"responses":{"201":{"$ref":"#/components/responses/PartierCreated"},"400":{"$ref":"#/components/responses/CreatePartierBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Met � jour un partier","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePartier"}}}},"responses":{"200":{"$ref":"#/components/responses/PartierUpdated"},"400":{"$ref":"#/components/responses/PartierIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}}},"/partier/{id}":{"delete":{"tags":["Partier"],"security":[{"bearerAuth":[]}],"description":"Supprime un partier","parameters":[{"name":"id","description":"id du partier","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/PartierDeleted"},"400":{"$ref":"#/components/responses/PartierIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}}},"/":{"get":{"tags":["Town"],"security":[{"bearerAuth":[]}],"description":"Récupérer toutes les villes","responses":{"200":{"$ref":"#/components/responses/AllTownsFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}}},"/searchByDetails/{eventid}/{destinationtown}/{destinationzipcode}":{"get":{"tags":["Shuttles"],"security":[{"bearerAuth":[]}],"description":"Recherche des navettes en fonction de la ville et du code postal de destination.","parameters":[{"name":"eventid","in":"path","description":"ID de l'�v�nement dont on cherche les navettes.","required":true,"type":"string"},{"name":"destinationtown","in":"path","description":"Nom de la ville de destination","required":true,"type":"string"},{"name":"destinationzipcode","in":"path","description":"Code postal de la ville de destination.","required":true,"type":"string"}],"responses":{"200":{"$ref":"#/components/responses/ShuttlesByDetailsFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}}},"/searchByPartier/{partierid}":{"get":{"tags":["Shuttles"],"security":[{"bearerAuth":[]}],"description":"Recherche des navettes en fonction de l'ID du partier.","parameters":[{"name":"partierid","in":"path","description":"ID du partier pour lequel on recherche les navettes.","required":true,"type":"string"}],"responses":{"200":{"$ref":"#/components/responses/ShuttlesByPartierFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}}},"/shuttleMember/signup/":{"post":{"tags":["ShuttleMember"],"security":[{"bearerAuth":[]}],"description":"Inscription d'un partier � une navette","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShuttleMemberSignUp"}}}},"responses":{"201":{"$ref":"#/components/schemas/ShuttleMemberSignedUp"},"400":{"$ref":"#/components/responses/ShuttleMemberSignUpBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}}},"/shuttleMember/":{"patch":{"tags":["ShuttleMember"],"security":[{"bearerAuth":[]}],"description":"Mettre � jour les informations d'un membre de la navette","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateShuttleMember"}}}},"responses":{"200":{"$ref":"#/components/schemas/ShuttleMemberUpdated"},"400":{"$ref":"#/components/responses/ShuttleMemberIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/ShuttleMemberNotFound"},"500":{"description":"Erreur serveur"}}}},"/cancel/{shuttleid}/{partierid}":{"delete":{"tags":["ShuttleMember"],"security":[{"bearerAuth":[]}],"description":"Supprimer l'inscriptiob d'un partier � une navette","parameters":[{"name":"shuttleid","in":"path","description":"id de la navette","required":true,"schema":{"type":"integer"}},{"name":"partierid","in":"path","description":"id du partier (membre de la navette)","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/ShutterMemberDeleted"},"400":{"$ref":"#/components/responses/ShuttleOrMemberIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdminOrOrganizationOrPartier"},"404":{"$ref":"#/components/responses/ShuttleOrMemberNotFound"},"500":{"description":"Erreur serveur"}}}},"/partier/{partierid}":{"delete":{"tags":["ShuttleMember"],"security":[{"bearerAuth":[]}],"description":"Supprimer toutes les inscriptions aux navette d'un partier","parameters":[{"name":"partierid","in":"path","description":"id du partier","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/ShutterSignUpsDeleted"},"400":{"$ref":"#/components/responses/ShuttleMemberIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdminOrOrganizationOrPartier"},"404":{"$ref":"#/components/responses/ShuttleMemberNotFound"},"500":{"description":"Erreur serveur"}}}},"/login":{"get":{"tags":["User"],"description":"Authentification de l'utilisateur","responses":{"200":{"$ref":"#/components/schemas/AuthorizedJWT"},"401":{"$ref":"#/components/schemas/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}}},"/emailExists/{email}":{"get":{"tags":["User"],"description":"V�rifier si l'adresse email existe d�j� dans la BD","parameters":[{"name":"email","in":"path","description":"Adresse e-mail � v�rifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Statut de la pr�sence de l'email dans la BD","content":{"application/json":{"schema":{"type":"object","properties":{"exists":{"type":"boolean","description":"Indique si l'adresse e-mail existe d�j�"}}}}}},"500":{"description":"Erreur serveur"}}}},"/pseudoExists/{pseudo}":{"get":{"tags":["User"],"description":"V�rifier si le pseudo existe d�j� dans la BD","parameters":[{"name":"pseudo","in":"path","description":"Pseudo � v�rifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Statut de la pr�sence du pseudo dans la BD","content":{"application/json":{"schema":{"type":"object","properties":{"exists":{"type":"boolean","description":"Indique si le pseudo existe d�j�"}}}}}},"500":{"description":"Erreur serveur"}}}},"/user/":{"get":{"tags":["User"],"security":[{"bearerAuth":[]}],"description":"R�cup�rer tous les utilisateurs","responses":{"200":{"$ref":"#/components/responses/AllUsersFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["User"],"security":[{"bearerAuth":[]}],"description":"Cr�er un nouvel administrateur","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdmin"}}}},"responses":{"201":{"$ref":"#/components/schemas/AdminCreated"},"400":{"$ref":"#/components/responses/CreateAdminBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["User"],"security":[{"bearerAuth":[]}],"description":"Met � jour un utilisateur","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUser"}}}},"responses":{"200":{"$ref":"#/components/schemas/UserUpdated"},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/UserIdNotANumber"},"404":{"$ref":"#/components/responses/UserNotFound"},"500":{"description":"Erreur serveur"}}}},"/user/{id}":{"get":{"tags":["User"],"security":[{"bearerAuth":[]}],"description":"R�cup�rer un utilisateur par son ID","parameters":[{"name":"id","in":"path","description":"id de l'utilisateur","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/schemas/UserFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/UserNotFound"},"500":{"description":"Erreur serveur"}}},"delete":{"tags":["User"],"security":[{"bearerAuth":[]}],"description":"Supprimer un utilisateur","parameters":[{"name":"id","in":"path","description":"id de l'utilisateur � supprimer","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/UserDeleted"},"400":{"$ref":"#/components/responses/UserIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/UserNotFound"},"500":{"description":"Erreur serveur"}}}},"/user/register/":{"post":{"tags":["User"],"description":"Cr�er un nouvel utilisateur","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"profilePicture":{"type":"string","format":"binary","description":"Image de profil de l'utilisateur"},"proof":{"type":"string","format":"binary","description":"Preuve d'identit� de l'utilisateur"},"otherProperty":{"type":"string","description":"Autres propri�t�s du formulaire d'inscription"}}}}}},"responses":{"201":{"$ref":"#/components/responses/UserCreated"},"400":{"$ref":"#/components/responses/CreateUserBadRequest"},"500":{"description":"Erreur serveur"}}}}},"components":{"schemas":{"Event":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"nom de l'événement"},"description":{"type":"string","description":"description de l'événement"},"nameandnumstreet":{"type":"string","description":"nom et numéro de rue de l'événement"},"departingpoint":{"type":"string","description":"point de départ de l'événement"},"startdatetime":{"type":"string","description":"date et heure de début de l'événement"},"enddatetime":{"type":"string","description":"date et heure de fin de l'événement"},"organizationid":{"type":"integer","description":"id de l'organisateur de l'événement"},"addresstown":{"type":"string","description":"ville de l'événement"},"addresszipcode":{"type":"string","description":"code postal de l'événement"}},"example":{"id":1,"name":"Party de la rentrée","description":"Party de la rentrée des étudiants","nameandnumstreet":"123 rue de la rentrée","departingpoint":"devant le pavillon des sciences","startdatetime":"2020-09-01 20:00:00","enddatetime":"2020-09-02 03:00:00","organizationid":1,"addresstown":"Sherbrooke","addresszipcode":"J1E 4K1"}},"Organization":{"type":"object","properties":{"userID":{"type":"integer","description":"l'id de l'utilisateur"},"responsibleName":{"type":"string","description":"le nom du responsable de l'organisation"},"isVerified":{"type":"boolean","description":"si l'organisation est vérifiée ou non"}},"example":{"userID":1,"responsibleName":"Jean","isVerified":true}},"WrongJWT":{"type":"object","oneOf":[{"$ref":"#/components/responses/MissingJWT"},{"$ref":"#/components/responses/ExpiredJWT"}]}},"responses":{"AllEventsFound":{"description":"Renvoie tous les événements"},"AllOrganizationsFound":{"description":"Récupère toutes les organisations"},"OrganizationFound":{"description":"Récupère une organisation"},"OrganizationNotFound":{"description":"L'organisation n'a pas été trouvée"},"OrganizationIdNotANumber":{"description":"L'id de l'organisation n'est pas un nombre"},"OrganizationCreated":{"description":"L'organisation a été créée"},"OrganizationUpdated":{"description":"L'organisation a été mise à jour"},"OrganizationDeleted":{"description":"L'organisation a été supprimée"},"mustBeAdmin":{"description":"L'action demandée ne peut être réalisée que par un administrateur"},"mustBePartier":{"description":"L'action demandée ne peut être réalisée que par un partier"},"mustBeOrganization":{"description":"L'action demandée ne peut être réalisée que par un organisateur"},"mustBeAdminOrOrganization":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation"},"mustBeAdminOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou un partier"},"mustBeAdminOrOrganizationOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation ou un partier"},"UnauthorizedJWT":{"description":"JWT manquant ou expiré","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/WrongJWT"}}}},"ErrorJWT":{"description":"Le JWT n'est pas valide"},"MissingJWT":{"description":"Le JWT n'est pas présent"},"ExpiredJWT":{"description":"Le JWT est expiré"},"ImageUuidFound":{"description":"Renvoie l'UUID de l'image associ�e � l'adresse e-mail sp�cifi�e"}},"requestBodies":{"CreateOrganization":{"description":"L'organisation à créer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"UpdateOrganization":{"description":"L'organisation à mettre à jour","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"parameters":{"email":{"name":"email","in":"path","description":"Adresse e-mail pour laquelle r�cup�rer l'UUID de l'image","required":true,"schema":{"type":"string"}}},"security":{"0":{"bearerAuth":[]}},"/image/{email}":{"get":{"tags":["Image"],"security":[{"bearerAuth":[]}],"description":"R�cup�re l'UUID de l'image associ�e � l'adresse e-mail sp�cifi�e","parameters":[{"$ref":"#/components/parameters/email"}],"responses":{"200":{"$ref":"#/components/responses/ImageUuidFound"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdminOrOrganizationOrPartier"},"404":{"$ref":"#/components/responses/PartierNotFound"},"500":{"description":"Erreur serveur"}}}}},"tags":[]}