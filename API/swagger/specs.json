{"openapi":"3.0.0","info":{"title":"Besafe API","version":"1.0.0"},"paths":{"/organization/":{"get":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Récupère toutes les organisations","responses":{"200":{"$ref":"#/components/responses/AllOrganizationsFound"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Créer une organisation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrganization"}}}},"responses":{"201":{"$ref":"#/components/responses/OrganizationCreated"},"400":{"$ref":"#/components/responses/CreateOrganizationBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Met à jour un événement","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrganization"}}}},"responses":{"200":{"$ref":"#/components/responses/OrganizationUpdated"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}},"/organization/{id}":{"delete":{"tags":["Organization"],"security":[{"bearerAuth":[]}],"description":"Supprime un événement","parameters":[{"name":"id","description":"id de l'événement","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"204":{"$ref":"#/components/responses/OrganizationDeleted"},"400":{"$ref":"#/components/responses/OrganizationIdNotANumber"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/OrganizationNotFound"},"500":{"description":"Erreur serveur"}}}}},"components":{"schemas":{"Event":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","description":"nom de l'événement"},"description":{"type":"string","description":"description de l'événement"},"nameandnumstreet":{"type":"string","description":"nom et numéro de rue de l'événement"},"departingpoint":{"type":"string","description":"point de départ de l'événement"},"startdatetime":{"type":"string","description":"date et heure de début de l'événement"},"enddatetime":{"type":"string","description":"date et heure de fin de l'événement"},"organizationid":{"type":"integer","description":"id de l'organisateur de l'événement"},"addresstown":{"type":"string","description":"ville de l'événement"},"addresszipcode":{"type":"string","description":"code postal de l'événement"}},"example":{"id":1,"name":"Party de la rentrée","description":"Party de la rentrée des étudiants","nameandnumstreet":"123 rue de la rentrée","departingpoint":"devant le pavillon des sciences","startdatetime":"2020-09-01 20:00:00","enddatetime":"2020-09-02 03:00:00","organizationid":1,"addresstown":"Sherbrooke","addresszipcode":"J1E 4K1"}},"Organization":{"type":"object","properties":{"userID":{"type":"integer","description":"l'id de l'utilisateur"},"responsibleName":{"type":"string","description":"le nom du responsable de l'organisation"},"isVerified":{"type":"boolean","description":"si l'organisation est vérifiée ou non"}},"example":{"userID":1,"responsibleName":"Jean","isVerified":true}},"WrongJWT":{"type":"object","oneOf":[{"$ref":"#/components/responses/MissingJWT"},{"$ref":"#/components/responses/ExpiredJWT"}]}},"responses":{"AllEventsFound":{"description":"Renvoie tous les événements"},"AllOrganizationsFound":{"description":"Récupère toutes les organisations"},"OrganizationFound":{"description":"Récupère une organisation"},"OrganizationNotFound":{"description":"L'organisation n'a pas été trouvée"},"OrganizationIdNotANumber":{"description":"L'id de l'organisation n'est pas un nombre"},"OrganizationCreated":{"description":"L'organisation a été créée"},"OrganizationUpdated":{"description":"L'organisation a été mise à jour"},"OrganizationDeleted":{"description":"L'organisation a été supprimée"},"mustBeAdmin":{"description":"L'action demandée ne peut être réalisée que par un administrateur"},"mustBePartier":{"description":"L'action demandée ne peut être réalisée que par un partier"},"mustBeOrganization":{"description":"L'action demandée ne peut être réalisée que par un organisateur"},"mustBeAdminOrOrganization":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation"},"mustBeAdminOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou un partier"},"mustBeAdminOrOrganizationOrPartier":{"description":"L'action demandée ne peut être réalisée que par un administrateur ou une organisation ou un partier"},"UnauthorizedJWT":{"description":"JWT manquant ou expiré","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/WrongJWT"}}}},"ErrorJWT":{"description":"Le JWT n'est pas valide"},"MissingJWT":{"description":"Le JWT n'est pas présent"},"ExpiredJWT":{"description":"Le JWT est expiré"}},"requestBodies":{"CreateOrganization":{"description":"L'organisation à créer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}},"UpdateOrganization":{"description":"L'organisation à mettre à jour","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}